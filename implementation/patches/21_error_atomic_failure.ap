# Summary: Tests the atomicity guarantee: if any part of a patch fails, no files are modified.
# Plan:
#   1. Define a valid change for `21_atomic_src1.txt`.
#   2. Define an invalid change (snippet not found) for `21_atomic_src2.txt`.
#      The entire operation must fail, and `21_atomic_src1.txt` must remain untouched.

21a7031c AP 3.1

21a7031c FILE
21_atomic_src1.txt

21a7031c REPLACE
21a7031c snippet
Change this line.
21a7031c content
This line should be changed.

21a7031c FILE
21_atomic_src2.txt

21a7031c REPLACE
21a7031c snippet
This snippet does not exist.
21a7031c content
This change will fail.
